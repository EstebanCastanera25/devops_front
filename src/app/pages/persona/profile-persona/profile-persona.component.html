<mat-tab-group>
    <mat-tab label="Detalle Personal">
     <div class="container-full">

  
      <mat-dialog-content class="container-full">
        <form [formGroup]="persona"  class="grid-datos">
      
      <mat-form-field appearance="outline" class="margen1">
        <mat-label>Nombres</mat-label>
        <input matInput formControlName="nombres" [readonly]="isReadOnly"/>       
      </mat-form-field>
      
      <mat-form-field appearance="outline"  class="margen1">
        <mat-label>Apellidos</mat-label>
        <input matInput formControlName="apellidos" [readonly]="isReadOnly" />
      </mat-form-field>
      
      <div formGroupName="datosContacto">
        <mat-form-field appearance="outline" class="margen1">
          <mat-label>Teléfono móvil</mat-label>
          <input matInput formControlName="telefono_movil" [readonly]="isReadOnly">
        </mat-form-field>
      </div>
      
      <div formGroupName="identificacion">
        <mat-form-field appearance="outline" >
          <mat-label>DNI</mat-label>
          <input matInput formControlName="dni" [readonly]="isReadOnly"/>
        </mat-form-field>
      </div>
        <mat-form-field appearance="outline" class="span-4 ">
          <mat-label>observaciones</mat-label>
          <input matInput formControlName="observaciones" [readonly]="isReadOnly">
        </mat-form-field>
    
      
      <!-- CONTACTO (colaps) -->
      <div class="secciones">
        <mat-accordion>
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>Datos de contacto</mat-panel-title>
              <mat-panel-description>Email, país y teléfonos</mat-panel-description>
            </mat-expansion-panel-header>
      
            <div formGroupName="datosContacto" class="inner-grid">
              <mat-form-field appearance="outline" class="span-2">
                <mat-label>Correo electrónico</mat-label>
                <input matInput formControlName="email"  [readonly]="isReadOnly"/>
              </mat-form-field>
      
              <mat-form-field appearance="outline" class="span-1">
                <mat-label>País</mat-label>
                <input matInput formControlName="pais" [readonly]="isReadOnly"/>                
              </mat-form-field>
      
      
              <mat-form-field appearance="outline" class="span-1">
                <mat-label>Teléfono fijo</mat-label>
                <input matInput formControlName="telefono_fijo" [readonly]="isReadOnly"/>
              </mat-form-field>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
      <div class="secciones">
        <mat-accordion>
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>Personales</mat-panel-title>
            </mat-expansion-panel-header>
      
            <div formGroupName="datosPersonales" class="inner-grid">
              <mat-form-field appearance="outline" class="span-1">
                <mat-label>Genero</mat-label>
                <input matInput formControlName="genero" [readonly]="isReadOnly"/>
              </mat-form-field>

              <mat-form-field appearance="outline" class="span-1">
                <mat-label>Profesion</mat-label><input matInput formControlName="profesion" [readonly]="isReadOnly"/>
              </mat-form-field>
              <mat-form-field color="accent" appearance="outline" class="span-1">
                <mat-label>Fecha</mat-label>
                <input matInput [value]="persona.get('datosPersonales.f_nacimiento')?.value | date:'dd-MM-yyyy':'UTC'" [readonly]="isReadOnly"/>                
              </mat-form-field>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
      
    
      

      <!-- DOMICILIO (colaps) -->
      <div class="secciones">
        <mat-accordion>
          <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>Domicilio</mat-panel-title>
            </mat-expansion-panel-header>
      
              <div formGroupName="domicilio" class="inner-grid">

              <!-- Provincia -->
            <ng-container *ngIf="pais === 'Argentina'; else provinciaLibre">
              <mat-form-field appearance="outline" class="span-1">
                <mat-label>Provincia</mat-label>
                <input matInput formControlName="provincia" [readonly]="isReadOnly"/> 
              </mat-form-field>
            </ng-container>

            <ng-template #provinciaLibre>
              <mat-form-field appearance="outline" class="span-1">
                <mat-label>Provincia</mat-label>
                <input matInput formControlName="provincia" [readonly]="isReadOnly"/> 
              </mat-form-field>
            </ng-template>

            <!-- Ciudad: ocultar si es CABA -->
            <ng-container *ngIf="provincia !== 'Ciudad Autónoma de Buenos Aires'">
              <mat-form-field appearance="outline" class="span-1">
                <mat-label>Ciudad</mat-label>
                <input matInput formControlName="ciudad" [readonly]="isReadOnly"/>
              </mat-form-field>
            </ng-container>

            <!-- Barrio: select si es CABA, input si no -->
            <ng-container *ngIf="provincia === 'Ciudad Autónoma de Buenos Aires'; else barrioLibre">
              <mat-form-field appearance="outline" class="span-1">
                <mat-label>Barrio</mat-label>
                <input matInput formControlName="barrio" [readonly]="isReadOnly"/> 
              </mat-form-field>
            </ng-container>
            <ng-template #barrioLibre>
              <mat-form-field appearance="outline" class="span-1">
                <mat-label>Barrio</mat-label>
                <input matInput formControlName="barrio" [readonly]="isReadOnly"/>
              </mat-form-field>
            </ng-template>
            
              <mat-form-field appearance="outline" class="span-1"><mat-label>Calle</mat-label><input matInput formControlName="calle" [readonly]="isReadOnly"/></mat-form-field>
              <mat-form-field appearance="outline"><mat-label>Número</mat-label><input matInput formControlName="numero" [readonly]="isReadOnly"/></mat-form-field>
              <mat-form-field appearance="outline"><mat-label>Piso</mat-label><input matInput formControlName="piso" [readonly]="isReadOnly"/></mat-form-field>
              <mat-form-field appearance="outline"><mat-label>Departamento</mat-label><input matInput formControlName="departamento" [readonly]="isReadOnly"/></mat-form-field>
              <mat-form-field appearance="outline" class="span-1"><mat-label>Código Postal</mat-label><input matInput formControlName="codigoPostal" [readonly]="isReadOnly"/></mat-form-field>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>

      <div class="secciones">
        <mat-accordion>
          <mat-expansion-panel >
            <mat-expansion-panel-header>
              <mat-panel-title>Estados</mat-panel-title>
            </mat-expansion-panel-header>
      
            <div formGroupName="estado" class="inner-grid">
              <mat-checkbox formControlName="afiliado" >Afiliado</mat-checkbox>
              <mat-checkbox formControlName="en_whatsaap" >En Grupo WhatsApp</mat-checkbox>
            </div>
          </mat-expansion-panel>
        </mat-accordion>
      </div>
      
        </form>
      </mat-dialog-content>
    </div> 
    </mat-tab>
    <mat-tab label="Grupos"> <!-- Content for Notifications tab --> </mat-tab>
    <mat-tab label="Fiscalizacion"> <!-- Content for Bills tab --> </mat-tab>
    <mat-tab label="Rol"> <!-- Content for Security tab --> </mat-tab>
</mat-tab-group>
<mat-dialog-actions align="start" class="actions">
    <button mat-raised-button color="warn" (click)="cancelar()">Cerrar</button>
</mat-dialog-actions>

